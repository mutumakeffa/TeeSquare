<!DOCTYPE html>
<html lang="en">
<head>
    <title>images</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
</head>
<body>
<div class="nav-side-menu">
    <div class="brand">TeeSquare</div>
    <!--  In Bootstrap, collapsibles are useful when you want to hide and show large amount of content. This is by inputing class collapse   -->
    <!--  To control (show/hide) the collapsible content, add the data-toggle="collapse" attribute to an <a> or a <button> element. Then add the data-target="#id" attribute to connect the button with the collapsible content (<div id="demo">).  -->
    <!-- <i class="toggle-btn" data-toggle="collapse" data-target="#menu-content"></i> -->
    <img src="../static/menu_icon_3.png" alt="Main menu" class="toggle-btn" data-toggle="collapse"
         data-target="#menu-content">
    <div class="menu-list">
        <ul id="menu-content" class="menu-content collapse out">
            <li>
                <a href="/Dashboard" class="pl-4"> Dashboard </a>
            </li>

            <li>
                <a href="/sheetsDashboard" class="pl-4"> Sheets </a>
            </li>

            <li>
                <a href="#" class="pl-4"> Documents </a>
            </li>

            <li>
                <a href="#" class="pl-4"> Field Reports </a>
            </li>

            <li>
                <a href="#" class="pl-4"> Issues </a>
            </li>

            <li class="active">
                <a href="/images" class="pl-4"> Images </a>
            </li>

            <li>
                <a href="/team" class="pl-4"> Team Members</a>
            </li>
        </ul>
    </div>
</div>

<!-- Div for the main section -->
<!-- This is where most of the elements will be -->

<div class="container" id="main_section">
    <main class="m-1 p-2" style="background:whitesmoke; color: #555555;">
        <nav class="navbar navbar-light bg-light p-0 ">
            <div class="container-fluid">
                        <span class="navbar-text">
                            <h5 class=" p-0 m-0" style="font-weight: bold">Images</h5>
                        </span>
                <span class="navbar-text">
                            <form action="/search" method="post" class="form-inline p-0 m-0 justify-content-center">
                            <div>
                                <input class="form-control  form-group-lg mr-sm-2 p-1 pl-2 pr-2" type="search"
                                       placeholder="Search images by name or number" aria-label="Search"
                                       style="text-align: center; font-size: .9rem; " name="search">
                                <button class="btn btn-outline-success my-2 my-sm-0 p-1 pl-3 pr-3" type="submit"
                                        style="font-size: .9rem">Search</button>
                            </div>
                            </form>
                        </span>
                <span class="navbar-text">
                            <button class="btn btn-success p-1 pl-3 pr-3 mr-5" style="font-size: .9rem"
                                    data-toggle="modal" data-target="#myModal">Upload new Image</button>
                        </span>
            </div>
        </nav>

        <!-- Modal one -->
        <div class="modal fade" id="myModal">
            <div class="modal-dialog modal-dialog-centered modal-md">
                <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Upload image</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <form action="/add_image" method="post" enctype="multipart/form-data">
                        <div class="modal-body">
                            <div class="container">
                                <div class="row">
                                    <!--<div class="col-lg-8 col-sm-12 col-11 main-section"> -->
                                    <div class="col-md-12 col-md-8 col-sm-12 main-section">
                                        <h1 class="text-center"
                                            style="font-size:32px; font-weight: 600; color: rgba(0,0,0,0.5);">File
                                            Input </h1><br>
                                        <div class="form-group">
                                            <!--  inputs for the sheet     -->
                                            <div class="form-group col-md-12">
                                                <label for="Image_upload"
                                                       style="font-weight: 600; color: rgba(0,0,0,0.5);">Upload
                                                    image</label>
                                                <br/>
                                                <input name="file" type="file" multiple class="file"
                                                       data-overwrite-initial="false" data-min-file-count="2"
                                                       style="color: #3f4c6b">
                                            </div>

                                            <div class="form-row">
                                                <div class="form-group col-md-12">
                                                    <label for="image_name"
                                                           style="font-weight: 600; color: rgba(0,0,0,0.5);">Image
                                                        name</label>
                                                    <input name="image_name" class="form-control" id="image_name"
                                                           placeholder="ex. first floor image">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="Description"
                                                       style="font-weight: 600; color: rgba(0,0,0,0.5);">Short
                                                    Description</label>
                                                <input name="image_desc" type="text" class="form-control"
                                                       id="image_desc" placeholder="cracks noticed">
                                            </div>

                                            <div class="form-row">
                                                <div class="form-group col-md-4">
                                                    <label for="Tag" style="font-weight: 600; color: rgba(0,0,0,0.5);">Tag
                                                        e.x civil or architectural</label>
                                                    <select name="tag" id="tag" class="form-control">
                                                        <option selected>#Civil</option>
                                                        <option>#Architectural</option>
                                                        <option>#Electrical</option>
                                                        <option>#Other</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <div class="container">
                                <button type="button" class="btn btn-secondary p-2 pl-4 pr-4" data-dismiss="modal">
                                    Cancel
                                </button>
                                <button type="submit" class="btn btn-success p-2 pl-4 pr-4">upload</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- End of Modal one section -->

        <!-- Section for display images -->
        <h5>{{ msg }}</h5>
        <section class="row mt-5">
            {% for row in data %}
                <div class="col-md-3">
                    <div class="card">
                        <img src="../static/uploads/{{ row[1] }}" class="img-fluid" alt="Image">
                        <div class="card-body">
                            Image name: {{ row[2] }}
                            description: {{ row[3] }}
                        </div>
                    </div>
                    <a href="#" class="btn btn-primary mt-3">View image</a>
                </div>

            {% endfor %}
        </section>
        <!-- End of display images -->
    </main>
</div>
</body>

<!-- CSS styles are added below -->
<style>
    .nav-side-menu {
        overflow: auto;
        font-family: verdana;
        font-size: 14px;
        font-weight: 200;
        background-color: #2e353d;
        position: fixed;
        top: 0px;
        width: 200px;
        height: 100%;
        color: #e1ffff;
        margin-left: 0px;
    }

    .nav-side-menu .brand {
        background-color: #23282e;
        line-height: 50px;
        display: block;
        text-align: center;
        font-size: 15px;
    }

    .nav-side-menu .toggle-btn {
        display: none;
    }

    .nav-side-menu ul, .nav-side-menu li {
        list-style: none;
        padding: 0px;
        margin: 0 auto;
        line-height: 40px;
        cursor: pointer;
    }

    .nav-side-menu ul .active,
    .nav-side-menu li .active {
        border-left: 3px solid #d19b3d;
        background-color: #4f5b69;
    }

    .nav-side-menu li {
        padding-left: 0px;
        border-left: 3px solid #2e353d;
        border-bottom: 1px solid #23282e;
    }

    .nav-side-menu li a {
        text-decoration: none;
        color: #e1ffff;
        display: block; /*this element will increase the clickable area */
    }

    .nav-side-menu li:hover {
        border-left: 3px solid #d19b3d;
        background-color: #4f5b69;
        -webkit-transition: all 1s ease;
        -moz-transition: all 1s ease;
        -o-transition: all 1s ease;
        -ms-transition: all 1s ease;
        transition: all 1s ease;
    }

    @media (max-width: 767px) {
        .nav-side-menu {
            position: relative;
            width: 100%;
            margin-bottom: 10px;
        }

        .nav-side-menu .toggle-btn {
            display: block;
            cursor: pointer;
            position: absolute;
            right: 10px;
            top: 2px;
            z-index: 10 !important;
            padding: 8px;
            padding-bottom: 0px;
            margin-bottom: 10px;
            /*background-color: #ffffff;*/
            /*color: #000;*/
            width: 50px;
            /*text-align: center;*/
        }

        .brand {
            text-align: left !important;
            font-size: 22px;
            padding-left: 20px;
            line-height: 50px !important;
        }

        main {
            /*margin: 50px;*/
            background-color: white;
            margin-left: -200px;
        }

    }

    @media (min-width: 767px) {
        .nav-side-menu .menu-list .menu-content {
            display: block;
        }

        #main_section {
            margin-left: 200px;
        }

    }

    body {
        margin: 0px;
        padding: 0px;
        background: #DCDCDC;

    }

</style>

</html>